(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[115],{1393:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return i}});let o=s(4232),t=o.useLayoutEffect,n=o.useEffect;function i(e){let{headManager:a,reduceComponentsToState:s}=e;function i(){if(a&&a.mountedInstances){let t=o.Children.toArray(Array.from(a.mountedInstances).filter(Boolean));a.updateHead(s(t,e))}}return t(()=>{var s;return null==a||null==(s=a.mountedInstances)||s.add(e.children),()=>{var s;null==a||null==(s=a.mountedInstances)||s.delete(e.children)}}),t(()=>(a&&(a._pendingUpdate=i),()=>{a&&(a._pendingUpdate=i)})),n(()=>(a&&a._pendingUpdate&&(a._pendingUpdate(),a._pendingUpdate=null),()=>{a&&a._pendingUpdate&&(a._pendingUpdate(),a._pendingUpdate=null)})),null}},2172:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/catalogos",function(){return s(5431)}])},5431:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>f});var o=s(7876),t=s(4232),n=s(7328),i=s.n(n),r=s(3039),l=s(9099);let c=e=>{var a;let{children:s,adminOnly:n=!1}=e,{user:i,loading:c}=(0,r.A)(),d=(0,l.useRouter)();return((0,t.useEffect)(()=>{if(!c){var e,a;i?!n||(null==(e=i.email)?void 0:e.endsWith("@admin.ama.mx"))?n&&(null==(a=i.email)||a.endsWith("@admin.ama.mx")):d.push("/servicios"):d.push("/")}},[i,c,d,n]),c)?(0,o.jsx)("div",{children:"Cargando..."}):i&&(!n||(null==(a=i.email)?void 0:a.endsWith("@admin.ama.mx")))?(0,o.jsx)(o.Fragment,{children:s}):null};var d=s(8919),m=s(7212),p=s(6816),u=s(5003),h=s(7871),x=s.n(h);let g=()=>{let{user:e}=(0,r.A)(),[a,s]=(0,t.useState)("clientes"),[n,l]=(0,t.useState)("operadores"),[c,h]=(0,t.useState)(!1),[g,f]=(0,t.useState)(!1),[_,j]=(0,t.useState)([]),[v,b]=(0,t.useState)([]),[N,y]=(0,t.useState)([]),[C,w]=(0,t.useState)(""),[P,E]=(0,t.useState)(""),[k,T]=(0,t.useState)(""),[S,A]=(0,t.useState)(!1),[O,B]=(0,t.useState)(!1),[M,I]=(0,t.useState)(!1),[G,H]=(0,t.useState)(null),[D,q]=(0,t.useState)(null),[V,F]=(0,t.useState)(null),[z,L]=(0,t.useState)(""),[R,U]=(0,t.useState)(""),[K,W]=(0,t.useState)(!1),[Y,Z]=(0,t.useState)({clientes:!1,operadores:!1,gruas:!1}),[X,J]=(0,t.useState)({clientes:null,operadores:null,gruas:null}),[Q,$]=(0,t.useState)({clientes:{pagina:1,totalPaginas:1,elementosPorPagina:30,total:0},operadores:{pagina:1,totalPaginas:1,elementosPorPagina:30,total:0},gruas:{pagina:1,totalPaginas:1,elementosPorPagina:30,total:0}}),[ee,ea]=(0,t.useState)([]),[es,eo]=(0,t.useState)([]),[et,en]=(0,t.useState)([]),[ei,er]=(0,t.useState)([]),[el,ec]=(0,t.useState)({isOpen:!1,title:"",message:"",onConfirm:()=>{},type:"info",confirmText:"",cancelText:""}),ed=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,o=Date.now(),t={id:o,message:e,type:a,duration:s,title:a.charAt(0).toUpperCase()+a.slice(1)};er(e=>[...e,t]),setTimeout(()=>{em(o)},s)},em=e=>{er(a=>{let s=a.map(a=>a.id===e?{...a,exit:!0}:a);return setTimeout(()=>{er(a=>a.filter(a=>a.id!==e))},300),s})},ep=e=>{let a,{notification:s}=e,{id:t,message:n,type:i,title:r,duration:l,exit:c}=s;switch(i){case"success":a="fas fa-check-circle";break;case"error":a="fas fa-exclamation-circle";break;case"warning":a="fas fa-exclamation-triangle";break;default:a="fas fa-info-circle"}return(0,o.jsxs)("div",{className:"".concat(x().notification," ").concat(x()[i]," ").concat(c?x().exit:""),children:[(0,o.jsx)("div",{className:x().notificationIcon,children:(0,o.jsx)("i",{className:a})}),(0,o.jsxs)("div",{className:x().notificationContent,children:[(0,o.jsx)("h4",{className:x().notificationTitle,children:r}),(0,o.jsx)("p",{className:x().notificationMessage,children:n})]}),(0,o.jsx)("button",{className:x().notificationClose,onClick:()=>em(t),children:(0,o.jsx)("i",{className:"fas fa-times"})}),(0,o.jsx)("div",{className:x().notificationProgress,children:(0,o.jsx)("div",{className:x().notificationProgressBar,style:{animationDuration:"".concat(l,"ms")}})})]})},eu=e=>{let{title:a,message:s,onConfirm:o,type:t="info",confirmText:n="Confirmar",cancelText:i="Cancelar"}=e;ec({isOpen:!0,title:a,message:s,onConfirm:o,type:t,confirmText:n,cancelText:i})},eh=async()=>{try{await (0,p.CI)(u.j),window.location.href="/"}catch(e){console.error("Error al cerrar sesi\xf3n:",e),ed("Error al cerrar sesi\xf3n: "+(e instanceof Error?e.message:"Error desconocido"),"error")}};(0,t.useEffect)(()=>{let e=()=>{window.scrollY>50?f(!0):f(!1)};return window.addEventListener("scroll",e),ej(),ev(),eb(),()=>{window.removeEventListener("scroll",e)}},[]),(0,t.useEffect)(()=>{ex()},[_,Q.clientes.pagina,Q.clientes.elementosPorPagina]),(0,t.useEffect)(()=>{eg()},[v,Q.operadores.pagina,Q.operadores.elementosPorPagina]),(0,t.useEffect)(()=>{ef()},[N,Q.gruas.pagina,Q.gruas.elementosPorPagina]);let ex=()=>{let{pagina:e,elementosPorPagina:a}=Q.clientes,s=(e-1)*a;ea(_.slice(s,s+a));let o=Math.ceil(_.length/a)||1;$(e=>({...e,clientes:{...e.clientes,totalPaginas:o,total:_.length}}))},eg=()=>{let{pagina:e,elementosPorPagina:a}=Q.operadores,s=(e-1)*a;eo(v.slice(s,s+a));let o=Math.ceil(v.length/a)||1;$(e=>({...e,operadores:{...e.operadores,totalPaginas:o,total:v.length}}))},ef=()=>{let{pagina:e,elementosPorPagina:a}=Q.gruas,s=(e-1)*a;en(N.slice(s,s+a));let o=Math.ceil(N.length/a)||1;$(e=>({...e,gruas:{...e.gruas,totalPaginas:o,total:N.length}}))},e_=(e,a)=>{a<1||a>Q[e].totalPaginas||$(s=>({...s,[e]:{...s[e],pagina:a}}))},ej=async()=>{try{Z(e=>({...e,clientes:!0})),J(e=>({...e,clientes:null}));let e=await fetch("http://localhost:5000/api/catalogos/clientes?busqueda=".concat(C));if(!e.ok)throw Error("Error al cargar clientes");let a=await e.json();j(a),$(e=>({...e,clientes:{...e.clientes,pagina:1}}))}catch(e){console.error("Error al cargar clientes:",e),J(a=>({...a,clientes:e.message})),ed("Error al cargar clientes: "+e.message,"error")}finally{Z(e=>({...e,clientes:!1}))}},ev=async()=>{try{Z(e=>({...e,operadores:!0})),J(e=>({...e,operadores:null}));let e=await fetch("http://localhost:5000/api/catalogos/operadores?busqueda=".concat(P));if(!e.ok)throw Error("Error al cargar operadores");let a=await e.json();b(a),$(e=>({...e,operadores:{...e.operadores,pagina:1}}))}catch(e){console.error("Error al cargar operadores:",e),J(a=>({...a,operadores:e.message})),ed("Error al cargar operadores: "+e.message,"error")}finally{Z(e=>({...e,operadores:!1}))}},eb=async()=>{try{Z(e=>({...e,gruas:!0})),J(e=>({...e,gruas:null}));let e=await fetch("http://localhost:5000/api/catalogos/gruas?busqueda=".concat(k));if(!e.ok)throw Error("Error al cargar gr\xfaas");let a=await e.json();y(a),$(e=>({...e,gruas:{...e.gruas,pagina:1}}))}catch(e){console.error("Error al cargar gr\xfaas:",e),J(a=>({...a,gruas:e.message})),ed("Error al cargar gr\xfaas: "+e.message,"error")}finally{Z(e=>({...e,gruas:!1}))}},eN=async e=>{e.preventDefault();let a=new FormData(document.getElementById("clienteForm")),s={id_cliente:a.get("id_cliente"),nombre_cliente:a.get("nombre_cliente"),tipo_convenio:a.get("tipo_convenio"),banderazo:parseFloat(a.get("banderazo")),costokm:parseFloat(a.get("costokm"))||null,tipo_servicio:a.get("tipo_servicio"),descripcion:a.get("descripcion")};eu({title:G?"Actualizar Cliente":"Crear Cliente",message:G?'\xbfEst\xe1 seguro que desea actualizar los datos del cliente "'.concat(s.nombre_cliente,'"?'):'\xbfEst\xe1 seguro que desea crear el cliente "'.concat(s.nombre_cliente,'"?'),type:"save",confirmText:G?"Actualizar":"Crear",onConfirm:async()=>{try{let e=G?"PUT":"POST",a=G?"http://localhost:5000/api/catalogos/clientes/".concat(G.id_cliente):"http://localhost:5000/api/catalogos/clientes",o=await fetch(a,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok){let e=await o.json();throw Error(e.message||"Error al guardar cliente")}A(!1),G?(j(e=>e.map(e=>e.id_cliente===s.id_cliente?{...e,...s}:e)),ed("Cliente actualizado exitosamente","success")):(ej(),ed("Cliente creado exitosamente","success"))}catch(e){console.error("Error al guardar cliente:",e),ed("Error al guardar cliente: "+e.message,"error")}}})},ey=async e=>{e.preventDefault();let a=new FormData(document.getElementById("operadorForm")),s={nombre:a.get("nombre"),ap_paterno:a.get("ap_paterno"),ap_materno:a.get("ap_materno"),telefono:a.get("telefono").replace(/\D/g,""),apikey_telefono:a.get("apikey_telefono"),rol:a.get("rol"),turno:a.get("turno")};eu({title:D?"Actualizar Operador":"Crear Operador",message:D?'\xbfEst\xe1 seguro que desea actualizar los datos del operador "'.concat(s.nombre," ").concat(s.ap_paterno,'"?'):'\xbfEst\xe1 seguro que desea crear el operador "'.concat(s.nombre," ").concat(s.ap_paterno,'"?'),type:"save",confirmText:D?"Actualizar":"Crear",onConfirm:async()=>{try{let e=D?"PUT":"POST",a=D?"http://localhost:5000/api/catalogos/operadores/".concat(D.id_operador):"http://localhost:5000/api/catalogos/operadores",o=await fetch(a,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok){let e=await o.json();throw Error(e.message||"Error al guardar operador")}B(!1),D?(b(e=>e.map(e=>e.id_operador===D.id_operador?{...e,...s}:e)),ed("Operador actualizado exitosamente","success")):(ev(),ed("Operador creado exitosamente","success"))}catch(e){console.error("Error al guardar operador:",e),ed("Error al guardar operador: "+e.message,"error")}}})},eC=async e=>{e.preventDefault();let a=new FormData(document.getElementById("gruaForm")),s={nombre:a.get("nombre"),marca:a.get("marca"),modelo:a.get("modelo"),placas:a.get("placas"),num_economico:a.get("num_economico"),estado_emplacado:a.get("estado_emplacado"),observaciones:a.get("observaciones")};eu({title:V?"Actualizar Gr\xfaa":"Crear Gr\xfaa",message:V?'\xbfEst\xe1 seguro que desea actualizar los datos de la gr\xfaa "'.concat(s.nombre,'"?'):'\xbfEst\xe1 seguro que desea crear la gr\xfaa "'.concat(s.nombre,'"?'),type:"save",confirmText:V?"Actualizar":"Crear",onConfirm:async()=>{try{let e=V?"PUT":"POST",a=V?"http://localhost:5000/api/catalogos/gruas/".concat(V.id_grua):"http://localhost:5000/api/catalogos/gruas",o=await fetch(a,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!o.ok){let e=await o.json();throw Error(e.message||"Error al guardar gr\xfaa")}I(!1),V?(y(e=>e.map(e=>e.id_grua===V.id_grua?{...e,...s,id_operador:e.id_operador}:e)),ed("Gr\xfaa actualizada exitosamente","success")):(eb(),ed("Gr\xfaa creada exitosamente","success"))}catch(e){console.error("Error al guardar gr\xfaa:",e),ed("Error al guardar gr\xfaa: "+e.message,"error")}}})},ew=async e=>{if(e.preventDefault(),!z||!R)return void ed("Debe seleccionar una gr\xfaa y un operador","warning");eu({title:"Asignar Operador",message:"\xbfEst\xe1 seguro que desea asignar este operador a la gr\xfaa seleccionada?",type:"save",confirmText:"Asignar",onConfirm:async()=>{try{W(!0);let e=parseInt(z),a=parseInt(R),s=await fetch("http://localhost:5000/api/catalogos/asignaciones",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_grua:e,id_operador:a})});if(!s.ok){let e=await s.json();throw Error(e.message||"Error al asignar operador")}y(s=>s.map(s=>s.id_grua===e?{...s,id_operador:a}:s.id_operador===a?{...s,id_operador:null}:s)),L(""),U(""),eb(),ev(),ed("Operador asignado exitosamente","success")}catch(e){console.error("Error:",e),ed("Error al asignar operador: "+e.message,"error")}finally{W(!1)}}})},eP=e=>{let{tipo:a}=e,{pagina:s,totalPaginas:t,elementosPorPagina:n,total:i}=Q[a],r=Math.min(s*n,i);return(0,o.jsxs)("div",{className:x().paginationContainer,children:[(0,o.jsxs)("div",{className:x().itemsPerPage,children:[(0,o.jsx)("span",{children:"Mostrar:"}),(0,o.jsxs)("select",{value:n,onChange:e=>((e,a)=>{$(s=>({...s,[e]:{...s[e],elementosPorPagina:parseInt(a),pagina:1}}))})(a,e.target.value),children:[(0,o.jsx)("option",{value:"10",children:"10"}),(0,o.jsx)("option",{value:"20",children:"20"}),(0,o.jsx)("option",{value:"30",children:"30"}),(0,o.jsx)("option",{value:"50",children:"50"}),(0,o.jsx)("option",{value:"100",children:"100"})]})]}),(0,o.jsxs)("div",{className:x().pagination,children:[(0,o.jsx)("button",{className:"".concat(x().paginationBtn," ").concat(1===s?x().disabled:""),onClick:()=>e_(a,1),disabled:1===s,children:(0,o.jsx)("i",{className:"fas fa-angle-double-left"})}),(0,o.jsx)("button",{className:"".concat(x().paginationBtn," ").concat(1===s?x().disabled:""),onClick:()=>e_(a,s-1),disabled:1===s,children:(0,o.jsx)("i",{className:"fas fa-angle-left"})}),[...Array(t)].map((e,n)=>{let i=n+1;return 1===i||i===t||i>=s-1&&i<=s+1?(0,o.jsx)("button",{className:"".concat(x().paginationBtn," ").concat(i===s?x().active:""),onClick:()=>e_(a,i),children:i},i):i===s-2&&s>3||i===s+2&&s<t-2?(0,o.jsx)("span",{className:x().paginationEllipsis,children:"..."},i):null}),(0,o.jsx)("button",{className:"".concat(x().paginationBtn," ").concat(s===t?x().disabled:""),onClick:()=>e_(a,s+1),disabled:s===t,children:(0,o.jsx)("i",{className:"fas fa-angle-right"})}),(0,o.jsx)("button",{className:"".concat(x().paginationBtn," ").concat(s===t?x().disabled:""),onClick:()=>e_(a,t),disabled:s===t,children:(0,o.jsx)("i",{className:"fas fa-angle-double-right"})})]}),(0,o.jsxs)("div",{className:x().paginationInfo,children:["Mostrando ",(s-1)*n+1," a ",r," de ",i," registros"]})]})};return(0,o.jsxs)("div",{children:[(0,o.jsxs)(i(),{children:[(0,o.jsx)("title",{children:"Cat\xe1logos - AMA Cuernavaca"}),(0,o.jsx)("link",{rel:"icon",href:"/img/ico2.ico",type:"image/x-icon"}),(0,o.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap",rel:"stylesheet"}),(0,o.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"})]}),(0,o.jsx)("div",{className:x().notificationContainer,children:(0,o.jsx)(m.N,{children:ei.map(e=>(0,o.jsx)(d.P.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:30},transition:{duration:.3},children:(0,o.jsx)(ep,{notification:e})},e.id))})}),(0,o.jsxs)("nav",{className:"".concat(x().navbar," ").concat(g?x().scrolled:""),children:[(0,o.jsx)("a",{className:x().navbarBrand,href:"#",children:(0,o.jsx)("img",{src:"/img/logo.png",alt:"Logo AMA",className:x().modalLogo})}),(0,o.jsxs)("div",{className:"".concat(x().menuToggle," ").concat(c?x().active:""),onClick:()=>h(!c),children:[(0,o.jsx)("span",{}),(0,o.jsx)("span",{}),(0,o.jsx)("span",{})]}),(0,o.jsx)("ul",{className:"".concat(x().navLinks," ").concat(c?x().active:""),children:(0,o.jsx)("li",{children:(0,o.jsx)("a",{href:"#",onClick:eh,children:"Salir"})})})]}),(0,o.jsxs)("div",{className:x().pageHeader,children:[(0,o.jsx)("div",{className:x().filter}),(0,o.jsx)(d.P.div,{className:x().headerContent,initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},children:(0,o.jsx)(d.P.h1,{className:x().presentationTitle,variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},children:"Cat\xe1logos"})})]}),(0,o.jsxs)(d.P.div,{className:x().catalogoContainer,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,o.jsxs)("div",{className:x().mainTabs,children:[(0,o.jsxs)("button",{className:"".concat(x().tabBtn," ").concat("clientes"===a?x().active:""),onClick:()=>s("clientes"),children:[(0,o.jsx)("i",{className:"fas fa-users"})," Clientes"]}),(0,o.jsxs)("button",{className:"".concat(x().tabBtn," ").concat("operadores-gruas"===a?x().active:""),onClick:()=>s("operadores-gruas"),children:[(0,o.jsx)("i",{className:"fas fa-truck-pickup"})," Operadores y Gr\xfaas"]})]}),(0,o.jsx)(m.N,{mode:"wait",children:(0,o.jsxs)(d.P.div,{className:x().tabContent,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:.3},children:["clientes"===a&&(0,o.jsxs)("div",{className:x().tabPane,children:[(0,o.jsxs)("div",{className:x().tabHeader,children:[(0,o.jsxs)("h2",{children:[(0,o.jsx)("i",{className:"fas fa-users"})," Gesti\xf3n de Clientes"]}),(0,o.jsxs)("div",{className:x().actions,children:[(0,o.jsxs)("div",{className:x().searchBox,children:[(0,o.jsx)("input",{type:"text",placeholder:"Buscar cliente...",value:C,onChange:e=>w(e.target.value),onKeyPress:e=>"Enter"===e.key&&ej()}),(0,o.jsx)("button",{onClick:ej,children:(0,o.jsx)("i",{className:"fas fa-search"})})]}),(0,o.jsxs)(d.P.button,{className:x().btnAdd,onClick:()=>{H(null),A(!0)},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:"fas fa-plus"})," Nuevo Cliente"]})]})]}),Y.clientes?(0,o.jsxs)(d.P.div,{className:x().loading,initial:{opacity:0},animate:{opacity:1},children:[(0,o.jsx)("i",{className:"fas fa-spinner fa-spin"}),(0,o.jsx)("span",{children:"Cargando clientes..."})]}):X.clientes?(0,o.jsxs)(d.P.div,{className:x().errorMessage,initial:{opacity:0},animate:{opacity:1},children:[(0,o.jsx)("i",{className:"fas fa-exclamation-circle"})," ",X.clientes,(0,o.jsxs)("button",{onClick:ej,className:x().retryButton,children:[(0,o.jsx)("i",{className:"fas fa-redo"})," Reintentar"]})]}):0===_.length?(0,o.jsx)(d.P.div,{className:x().noData,initial:{opacity:0},animate:{opacity:1},children:"No hay clientes disponibles"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:x().tableContainer,children:(0,o.jsxs)("table",{className:x().dataTable,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"ID"}),(0,o.jsx)("th",{children:"Nombre"}),(0,o.jsx)("th",{children:"Tipo de Convenio"}),(0,o.jsx)("th",{children:"Banderazo"}),(0,o.jsx)("th",{children:"Costo por KM"}),(0,o.jsx)("th",{children:"Tipo de Servicio"}),(0,o.jsx)("th",{children:"Acciones"})]})}),(0,o.jsx)("tbody",{children:ee.map((e,a)=>(0,o.jsxs)(d.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a,duration:.3},children:[(0,o.jsx)("td",{children:e.id_cliente}),(0,o.jsx)("td",{children:e.nombre_cliente}),(0,o.jsx)("td",{children:e.tipo_convenio}),(0,o.jsxs)("td",{children:["$",e.banderazo]}),(0,o.jsxs)("td",{children:["$",e.costokm||"0.00"]}),(0,o.jsx)("td",{children:e.tipo_servicio||"-"}),(0,o.jsxs)("td",{className:x().actionsCell,children:[(0,o.jsx)(d.P.button,{className:"".concat(x().btnIcon," ").concat(x().btnEdit),onClick:()=>{H(e),A(!0)},title:"Editar",whileHover:{scale:1.2},whileTap:{scale:.9},children:(0,o.jsx)("i",{className:"fas fa-edit"})}),(0,o.jsx)(d.P.button,{className:"".concat(x().btnIcon," ").concat(x().btnDelete),onClick:()=>(e=>{eu({title:"Eliminar Cliente",message:"\xbfEst\xe1 seguro que desea eliminar este cliente? Esta acci\xf3n no se puede deshacer.",type:"delete",confirmText:"Eliminar",onConfirm:async()=>{try{let a=await fetch("http://localhost:5000/api/catalogos/clientes/".concat(e),{method:"DELETE"});if(!a.ok){let e=await a.json();throw Error(e.message||"Error al eliminar cliente")}j(a=>a.filter(a=>a.id_cliente!==e)),ed("Cliente eliminado exitosamente","success")}catch(e){console.error("Error al eliminar cliente:",e),ed("Error al eliminar cliente: "+e.message,"error")}}})})(e.id_cliente),title:"Eliminar",whileHover:{scale:1.2},whileTap:{scale:.9},children:(0,o.jsx)("i",{className:"fas fa-trash-alt"})})]})]},"".concat(e.id_cliente,"-").concat(e.tipo_convenio,"-").concat(e.banderazo)))})]})}),(0,o.jsx)(eP,{tipo:"clientes"})]})]}),"operadores-gruas"===a&&(0,o.jsxs)("div",{className:x().tabPane,children:[(0,o.jsxs)("div",{className:x().subTabs,children:[(0,o.jsxs)("button",{className:"".concat(x().subTabBtn," ").concat("operadores"===n?x().active:""),onClick:()=>l("operadores"),children:[(0,o.jsx)("i",{className:"fas fa-hard-hat"})," Operadores"]}),(0,o.jsxs)("button",{className:"".concat(x().subTabBtn," ").concat("gruas"===n?x().active:""),onClick:()=>l("gruas"),children:[(0,o.jsx)("i",{className:"fas fa-truck-pickup"})," Gr\xfaas"]}),(0,o.jsxs)("button",{className:"".concat(x().subTabBtn," ").concat("asignacion"===n?x().active:""),onClick:()=>l("asignacion"),children:[(0,o.jsx)("i",{className:"fas fa-link"})," Asignaci\xf3n"]})]}),(0,o.jsx)(m.N,{mode:"wait",children:(0,o.jsxs)(d.P.div,{className:x().subTabContent,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:["operadores"===n&&(0,o.jsxs)("div",{className:x().subTabPane,children:[(0,o.jsxs)("div",{className:x().tabHeader,children:[(0,o.jsxs)("h3",{children:[(0,o.jsx)("i",{className:"fas fa-hard-hat"})," Gesti\xf3n de Operadores"]}),(0,o.jsxs)("div",{className:x().actions,children:[(0,o.jsxs)("div",{className:x().searchBox,children:[(0,o.jsx)("input",{type:"text",placeholder:"Buscar operador...",value:P,onChange:e=>E(e.target.value),onKeyPress:e=>"Enter"===e.key&&ev()}),(0,o.jsx)("button",{onClick:ev,children:(0,o.jsx)("i",{className:"fas fa-search"})})]}),(0,o.jsxs)(d.P.button,{className:x().btnAdd,onClick:()=>{q(null),B(!0)},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:"fas fa-plus"})," Nuevo Operador"]})]})]}),Y.operadores?(0,o.jsxs)("div",{className:x().loading,children:[(0,o.jsx)("i",{className:"fas fa-spinner fa-spin"}),(0,o.jsx)("span",{children:"Cargando operadores..."})]}):X.operadores?(0,o.jsxs)("div",{className:x().errorMessage,children:[(0,o.jsx)("i",{className:"fas fa-exclamation-circle"})," ",X.operadores,(0,o.jsxs)("button",{onClick:ev,className:x().retryButton,children:[(0,o.jsx)("i",{className:"fas fa-redo"})," Reintentar"]})]}):0===v.length?(0,o.jsx)("div",{className:x().noData,children:"No hay operadores disponibles"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:x().tableContainer,children:(0,o.jsxs)("table",{className:x().dataTable,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"ID"}),(0,o.jsx)("th",{children:"Nombre"}),(0,o.jsx)("th",{children:"Apellido Paterno"}),(0,o.jsx)("th",{children:"Apellido Materno"}),(0,o.jsx)("th",{children:"Tel\xe9fono"}),(0,o.jsx)("th",{children:"API Key"}),(0,o.jsx)("th",{children:"Rol"}),(0,o.jsx)("th",{children:"Turno"}),(0,o.jsx)("th",{children:"Gr\xfaa Asignada"}),(0,o.jsx)("th",{children:"Acciones"})]})}),(0,o.jsx)("tbody",{children:es.map((e,a)=>(0,o.jsxs)(d.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a,duration:.3},children:[(0,o.jsx)("td",{children:e.id_operador}),(0,o.jsx)("td",{children:e.nombre}),(0,o.jsx)("td",{children:e.ap_paterno}),(0,o.jsx)("td",{children:e.ap_materno||"-"}),(0,o.jsx)("td",{children:e.telefono}),(0,o.jsx)("td",{children:e.apikey_telefono||"-"}),(0,o.jsx)("td",{children:e.rol}),(0,o.jsx)("td",{children:e.turno}),(0,o.jsx)("td",{children:(()=>{let a=N.find(a=>a.id_operador===e.id_operador);return a?"".concat(a.nombre," (").concat(a.placas,")"):"No asignada"})()}),(0,o.jsxs)("td",{className:x().actionsCell,children:[(0,o.jsx)(d.P.button,{className:"".concat(x().btnIcon," ").concat(x().btnEdit),onClick:()=>{q(e),B(!0)},title:"Editar",whileHover:{scale:1.2},whileTap:{scale:.9},children:(0,o.jsx)("i",{className:"fas fa-edit"})}),(0,o.jsx)(d.P.button,{className:"".concat(x().btnIcon," ").concat(x().btnDelete),onClick:()=>(e=>{eu({title:"Eliminar Operador",message:"\xbfEst\xe1 seguro que desea eliminar este operador? Esta acci\xf3n no se puede deshacer.",type:"delete",confirmText:"Eliminar",onConfirm:async()=>{try{let a=await fetch("http://localhost:5000/api/catalogos/operadores/".concat(e),{method:"DELETE"});if(!a.ok){let e=await a.json();throw Error(e.message||"Error al eliminar operador")}b(a=>a.filter(a=>a.id_operador!==e)),y(a=>a.map(a=>a.id_operador===parseInt(e)?{...a,id_operador:null}:a)),ed("Operador eliminado exitosamente","success")}catch(e){console.error("Error al eliminar operador:",e),ed("Error al eliminar operador: "+e.message,"error")}}})})(e.id_operador),title:"Eliminar",whileHover:{scale:1.2},whileTap:{scale:.9},children:(0,o.jsx)("i",{className:"fas fa-trash-alt"})})]})]},e.id_operador))})]})}),(0,o.jsx)(eP,{tipo:"operadores"})]})]}),"gruas"===n&&(0,o.jsxs)("div",{className:x().subTabPane,children:[(0,o.jsxs)("div",{className:x().tabHeader,children:[(0,o.jsxs)("h3",{children:[(0,o.jsx)("i",{className:"fas fa-truck-pickup"})," Gesti\xf3n de Gr\xfaas"]}),(0,o.jsxs)("div",{className:x().actions,children:[(0,o.jsxs)("div",{className:x().searchBox,children:[(0,o.jsx)("input",{type:"text",placeholder:"Buscar gr\xfaa...",value:k,onChange:e=>T(e.target.value),onKeyPress:e=>"Enter"===e.key&&eb()}),(0,o.jsx)("button",{onClick:eb,children:(0,o.jsx)("i",{className:"fas fa-search"})})]}),(0,o.jsxs)(d.P.button,{className:x().btnAdd,onClick:()=>{F(null),I(!0)},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:"fas fa-plus"})," Nueva Gr\xfaa"]})]})]}),Y.gruas?(0,o.jsxs)("div",{className:x().loading,children:[(0,o.jsx)("i",{className:"fas fa-spinner fa-spin"}),(0,o.jsx)("span",{children:"Cargando gr\xfaas..."})]}):X.gruas?(0,o.jsxs)("div",{className:x().errorMessage,children:[(0,o.jsx)("i",{className:"fas fa-exclamation-circle"})," ",X.gruas,(0,o.jsxs)("button",{onClick:eb,className:x().retryButton,children:[(0,o.jsx)("i",{className:"fas fa-redo"})," Reintentar"]})]}):0===N.length?(0,o.jsx)("div",{className:x().noData,children:"No hay gr\xfaas disponibles"}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:x().tableContainer,children:(0,o.jsxs)("table",{className:x().dataTable,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"ID"}),(0,o.jsx)("th",{children:"Nombre"}),(0,o.jsx)("th",{children:"Marca"}),(0,o.jsx)("th",{children:"Modelo"}),(0,o.jsx)("th",{children:"Placas"}),(0,o.jsx)("th",{children:"N\xfam. Econ\xf3mico"}),(0,o.jsx)("th",{children:"Operador Asignado"}),(0,o.jsx)("th",{children:"Acciones"})]})}),(0,o.jsx)("tbody",{children:et.map((e,a)=>{let s=v.find(a=>a.id_operador===e.id_operador);return(0,o.jsxs)(d.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a,duration:.3},children:[(0,o.jsx)("td",{children:e.id_grua}),(0,o.jsx)("td",{children:e.nombre}),(0,o.jsx)("td",{children:e.marca}),(0,o.jsx)("td",{children:e.modelo}),(0,o.jsx)("td",{children:e.placas}),(0,o.jsx)("td",{children:e.num_economico}),(0,o.jsx)("td",{children:s?"".concat(s.nombre," ").concat(s.ap_paterno):"No asignado"}),(0,o.jsxs)("td",{className:x().actionsCell,children:[(0,o.jsx)(d.P.button,{className:"".concat(x().btnIcon," ").concat(x().btnEdit),onClick:()=>{F(e),I(!0)},title:"Editar",whileHover:{scale:1.2},whileTap:{scale:.9},children:(0,o.jsx)("i",{className:"fas fa-edit"})}),(0,o.jsx)(d.P.button,{className:"".concat(x().btnIcon," ").concat(x().btnDelete),onClick:()=>(e=>{eu({title:"Eliminar Gr\xfaa",message:"\xbfEst\xe1 seguro que desea eliminar esta gr\xfaa? Esta acci\xf3n no se puede deshacer.",type:"delete",confirmText:"Eliminar",onConfirm:async()=>{try{let a=await fetch("http://localhost:5000/api/catalogos/gruas/".concat(e),{method:"DELETE"});if(!a.ok){let e=await a.json();throw Error(e.message||"Error al eliminar gr\xfaa")}y(a=>a.filter(a=>a.id_grua!==e)),ed("Gr\xfaa eliminada exitosamente","success")}catch(e){console.error("Error al eliminar gr\xfaa:",e),ed("Error al eliminar gr\xfaa: "+e.message,"error")}}})})(e.id_grua),title:"Eliminar",whileHover:{scale:1.2},whileTap:{scale:.9},children:(0,o.jsx)("i",{className:"fas fa-trash-alt"})})]})]},e.id_grua)})})]})}),(0,o.jsx)(eP,{tipo:"gruas"})]})]}),"asignacion"===n&&(0,o.jsxs)("div",{className:x().subTabPane,children:[(0,o.jsx)("div",{className:x().tabHeader,children:(0,o.jsxs)("h3",{children:[(0,o.jsx)("i",{className:"fas fa-link"})," Asignaci\xf3n de Operadores a Gr\xfaas"]})}),(0,o.jsxs)(d.P.div,{className:x().asignacionContainer,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,o.jsx)(d.P.div,{className:x().asignacionForm,whileHover:{boxShadow:"0 8px 20px rgba(0,0,0,0.15)"},children:(0,o.jsxs)("form",{onSubmit:ew,children:[(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Seleccionar Gr\xfaa:"}),(0,o.jsxs)("select",{className:x().formControl,value:z,onChange:e=>L(e.target.value),required:!0,children:[(0,o.jsx)("option",{value:"",children:"-- Seleccione una gr\xfaa --"}),N.map(e=>{let a=v.find(a=>a.id_operador===e.id_operador);return(0,o.jsxs)("option",{value:e.id_grua,children:[e.nombre," - ",e.marca," ",e.modelo," (",e.placas,")",a?" - Asignada a: ".concat(a.nombre):""]},e.id_grua)})]})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Asignar Operador:"}),(0,o.jsxs)("select",{className:x().formControl,value:R,onChange:e=>U(e.target.value),required:!0,children:[(0,o.jsx)("option",{value:"",children:"-- Seleccione un operador --"}),v.map(e=>{let a=N.find(a=>a.id_operador===e.id_operador);return(0,o.jsxs)("option",{value:e.id_operador,children:[e.nombre," ",e.ap_paterno," - ",e.rol,a?" - Asignado a: ".concat(a.nombre):""]},e.id_operador)})]})]}),(0,o.jsx)(d.P.button,{type:"submit",className:x().btnAsignar,disabled:K,whileHover:{scale:1.03},whileTap:{scale:.97},children:K?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("i",{className:"fas fa-spinner fa-spin"})," Procesando..."]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("i",{className:"fas fa-link"})," Asignar"]})})]})}),(0,o.jsxs)(d.P.div,{className:x().asignacionesActuales,initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[(0,o.jsx)("h4",{children:"Asignaciones Actuales"}),0===N.filter(e=>e.id_operador).length?(0,o.jsx)("div",{className:x().noData,children:"No hay asignaciones activas"}):(0,o.jsx)("div",{className:x().tableContainer,children:(0,o.jsxs)("table",{className:x().dataTable,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Gr\xfaa"}),(0,o.jsx)("th",{children:"Operador"}),(0,o.jsx)("th",{children:"Tel\xe9fono"}),(0,o.jsx)("th",{children:"Acciones"})]})}),(0,o.jsx)("tbody",{children:N.filter(e=>e.id_operador).map((e,a)=>{let s=v.find(a=>a.id_operador===e.id_operador);return s?(0,o.jsxs)(d.P.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*a,duration:.3},children:[(0,o.jsxs)("td",{children:[e.nombre," - ",e.placas]}),(0,o.jsxs)("td",{children:[s.nombre," ",s.ap_paterno]}),(0,o.jsx)("td",{children:s.telefono}),(0,o.jsx)("td",{className:x().actionsCell,children:(0,o.jsx)(d.P.button,{className:"".concat(x().btnIcon," ").concat(x().btnDelete),title:"Desasignar",onClick:()=>(e=>{eu({title:"Desasignar Operador",message:"\xbfEst\xe1 seguro que desea desasignar el operador de esta gr\xfaa?",type:"warning",confirmText:"Desasignar",onConfirm:async()=>{try{W(!0);let a=await fetch("http://localhost:5000/api/catalogos/desasignaciones",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_grua:e})});if(!a.ok){let e=await a.json();throw Error(e.message||"Error al desasignar operador")}y(a=>a.map(a=>a.id_grua===e?{...a,id_operador:null}:a)),eb(),ev(),ed("Operador desasignado exitosamente","success")}catch(e){console.error("Error:",e),ed("Error al desasignar operador: "+e.message,"error")}finally{W(!1)}}})})(e.id_grua),disabled:K,whileHover:{scale:1.2,rotate:90},whileTap:{scale:.9},children:K?(0,o.jsx)("i",{className:"fas fa-spinner fa-spin"}):(0,o.jsx)("i",{className:"fas fa-unlink"})})})]},"asignacion-".concat(e.id_grua)):null})})]})})]})]})]})]},n)})]})]},a)})]}),(0,o.jsxs)(m.N,{children:[S&&(0,o.jsx)(d.P.div,{className:x().modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,o.jsxs)(d.P.div,{className:x().modalContent,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},children:[(0,o.jsxs)("div",{className:x().modalHeader,children:[(0,o.jsx)("h3",{children:G?"Editar Cliente":"Nuevo Cliente"}),(0,o.jsx)(d.P.button,{className:x().closeBtn,onClick:()=>A(!1),whileHover:{rotate:90},children:(0,o.jsx)("i",{className:"fas fa-times"})})]}),(0,o.jsx)("div",{className:x().modalBody,children:(0,o.jsxs)("form",{id:"clienteForm",onSubmit:eN,children:[(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"ID Cliente:"}),(0,o.jsx)("input",{type:"text",name:"id_cliente",className:x().formControl,defaultValue:(null==G?void 0:G.id_cliente)||"",required:!0,readOnly:!!G})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Nombre del Cliente:"}),(0,o.jsx)("input",{type:"text",name:"nombre_cliente",className:x().formControl,defaultValue:(null==G?void 0:G.nombre_cliente)||"",required:!0})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Tipo de Convenio:"}),(0,o.jsxs)("select",{name:"tipo_convenio",className:x().formControl,defaultValue:(null==G?void 0:G.tipo_convenio)||"",required:!0,children:[(0,o.jsx)("option",{value:"",children:"-- Seleccione --"}),(0,o.jsx)("option",{value:"Local",children:"Local"}),(0,o.jsx)("option",{value:"Foraneo",children:"For\xe1neo"}),(0,o.jsx)("option",{value:"Vial",children:"Vial"}),(0,o.jsx)("option",{value:"Convenio",children:"Convenio"})]})]}),(0,o.jsxs)("div",{className:x().formRow,children:[(0,o.jsxs)("div",{className:"".concat(x().formGroup," ").concat(x().half),children:[(0,o.jsx)("label",{children:"Banderazo ($):"}),(0,o.jsx)("input",{type:"number",name:"banderazo",className:x().formControl,defaultValue:(null==G?void 0:G.banderazo)||"",min:"0",step:"0.01",required:!0})]}),(0,o.jsxs)("div",{className:"".concat(x().formGroup," ").concat(x().half),children:[(0,o.jsx)("label",{children:"Costo por KM ($):"}),(0,o.jsx)("input",{type:"number",name:"costokm",className:x().formControl,defaultValue:(null==G?void 0:G.costokm)||"",min:"0",step:"0.01"})]})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Tipo de Servicio:"}),(0,o.jsxs)("select",{name:"tipo_servicio",className:x().formControl,defaultValue:(null==G?void 0:G.tipo_servicio)||"",children:[(0,o.jsx)("option",{value:"",children:"-- Seleccione --"}),(0,o.jsx)("option",{value:"Local",children:"Local"}),(0,o.jsx)("option",{value:"Foraneo",children:"For\xe1neo"})]})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Descripci\xf3n:"}),(0,o.jsx)("textarea",{name:"descripcion",className:x().formControl,defaultValue:(null==G?void 0:G.descripcion)||"",rows:"3"})]}),(0,o.jsxs)("div",{className:x().formActions,children:[(0,o.jsxs)(d.P.button,{type:"button",className:x().btnCancel,onClick:()=>A(!1),whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:"fas fa-times"})," Cancelar"]}),(0,o.jsxs)(d.P.button,{type:"submit",className:x().btnSave,whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:"fas fa-save"})," Guardar"]})]})]})})]})}),O&&(0,o.jsx)(d.P.div,{className:x().modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,o.jsxs)(d.P.div,{className:x().modalContent,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},children:[(0,o.jsxs)("div",{className:x().modalHeader,children:[(0,o.jsx)("h3",{children:D?"Editar Operador":"Nuevo Operador"}),(0,o.jsx)(d.P.button,{className:x().closeBtn,onClick:()=>B(!1),whileHover:{rotate:90},children:(0,o.jsx)("i",{className:"fas fa-times"})})]}),(0,o.jsx)("div",{className:x().modalBody,children:(0,o.jsxs)("form",{id:"operadorForm",onSubmit:ey,children:[(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Nombre:"}),(0,o.jsx)("input",{type:"text",name:"nombre",className:x().formControl,defaultValue:(null==D?void 0:D.nombre)||"",required:!0})]}),(0,o.jsxs)("div",{className:x().formRow,children:[(0,o.jsxs)("div",{className:"".concat(x().formGroup," ").concat(x().half),children:[(0,o.jsx)("label",{children:"Apellido Paterno:"}),(0,o.jsx)("input",{type:"text",name:"ap_paterno",className:x().formControl,defaultValue:(null==D?void 0:D.ap_paterno)||"",required:!0})]}),(0,o.jsxs)("div",{className:"".concat(x().formGroup," ").concat(x().half),children:[(0,o.jsx)("label",{children:"Apellido Materno:"}),(0,o.jsx)("input",{type:"text",name:"ap_materno",className:x().formControl,defaultValue:(null==D?void 0:D.ap_materno)||""})]})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Tel\xe9fono:"}),(0,o.jsx)("input",{type:"tel",name:"telefono",className:x().formControl,defaultValue:(null==D?void 0:D.telefono)||"",pattern:"[0-9]{12,13}",placeholder:"12 o 13 d\xedgitos (sin espacios ni s\xedmbolos)",required:!0}),(0,o.jsx)("small",{className:x().formText,children:"Ingresa solo los 7 d\xedgitos para CallMeBot"})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"API Key para CallMeBot:"}),(0,o.jsx)("input",{type:"text",name:"apikey_telefono",className:x().formControl,defaultValue:(null==D?void 0:D.apikey_telefono)||"",placeholder:"API Key para WhatsApp"}),(0,o.jsx)("small",{className:x().formText,children:"Clave API para env\xedo de mensajes por WhatsApp"})]}),(0,o.jsxs)("div",{className:x().formRow,children:[(0,o.jsxs)("div",{className:"".concat(x().formGroup," ").concat(x().half),children:[(0,o.jsx)("label",{children:"Rol:"}),(0,o.jsxs)("select",{name:"rol",className:x().formControl,defaultValue:(null==D?void 0:D.rol)||"",required:!0,children:[(0,o.jsx)("option",{value:"",children:"-- Seleccione --"}),(0,o.jsx)("option",{value:"Operador",children:"Operador"}),(0,o.jsx)("option",{value:"Supervisor",children:"Supervisor"}),(0,o.jsx)("option",{value:"Administrador",children:"Administrador"})]})]}),(0,o.jsxs)("div",{className:"".concat(x().formGroup," ").concat(x().half),children:[(0,o.jsx)("label",{children:"Turno:"}),(0,o.jsxs)("select",{name:"turno",className:x().formControl,defaultValue:(null==D?void 0:D.turno)||"",required:!0,children:[(0,o.jsx)("option",{value:"",children:"-- Seleccione --"}),(0,o.jsx)("option",{value:"Matutino",children:"Matutino"}),(0,o.jsx)("option",{value:"Vespertino",children:"Vespertino"}),(0,o.jsx)("option",{value:"Nocturno",children:"Nocturno"}),(0,o.jsx)("option",{value:"24 horas",children:"24 horas"})]})]})]}),(0,o.jsxs)("div",{className:x().formActions,children:[(0,o.jsxs)(d.P.button,{type:"button",className:x().btnCancel,onClick:()=>B(!1),whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:"fas fa-times"})," Cancelar"]}),(0,o.jsxs)(d.P.button,{type:"submit",className:x().btnSave,whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:"fas fa-save"})," Guardar"]})]})]})})]})}),M&&(0,o.jsx)(d.P.div,{className:x().modalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,o.jsxs)(d.P.div,{className:x().modalContent,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},children:[(0,o.jsxs)("div",{className:x().modalHeader,children:[(0,o.jsx)("h3",{children:V?"Editar Gr\xfaa":"Nueva Gr\xfaa"}),(0,o.jsx)(d.P.button,{className:x().closeBtn,onClick:()=>I(!1),whileHover:{rotate:90},children:(0,o.jsx)("i",{className:"fas fa-times"})})]}),(0,o.jsx)("div",{className:x().modalBody,children:(0,o.jsxs)("form",{id:"gruaForm",onSubmit:eC,children:[(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Nombre:"}),(0,o.jsx)("input",{type:"text",name:"nombre",className:x().formControl,defaultValue:(null==V?void 0:V.nombre)||"",required:!0})]}),(0,o.jsxs)("div",{className:x().formRow,children:[(0,o.jsxs)("div",{className:"".concat(x().formGroup," ").concat(x().half),children:[(0,o.jsx)("label",{children:"Marca:"}),(0,o.jsx)("input",{type:"text",name:"marca",className:x().formControl,defaultValue:(null==V?void 0:V.marca)||"",required:!0})]}),(0,o.jsxs)("div",{className:"".concat(x().formGroup," ").concat(x().half),children:[(0,o.jsx)("label",{children:"Modelo:"}),(0,o.jsx)("input",{type:"text",name:"modelo",className:x().formControl,defaultValue:(null==V?void 0:V.modelo)||"",required:!0})]})]}),(0,o.jsxs)("div",{className:x().formRow,children:[(0,o.jsxs)("div",{className:"".concat(x().formGroup," ").concat(x().half),children:[(0,o.jsx)("label",{children:"Placas:"}),(0,o.jsx)("input",{type:"text",name:"placas",className:x().formControl,defaultValue:(null==V?void 0:V.placas)||"",required:!0})]}),(0,o.jsxs)("div",{className:"".concat(x().formGroup," ").concat(x().half),children:[(0,o.jsx)("label",{children:"N\xfamero Econ\xf3mico:"}),(0,o.jsx)("input",{type:"text",name:"num_economico",className:x().formControl,defaultValue:(null==V?void 0:V.num_economico)||"",required:!0})]})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Estado de Emplacado:"}),(0,o.jsxs)("select",{name:"estado_emplacado",className:x().formControl,defaultValue:(null==V?void 0:V.estado_emplacado)||"",required:!0,children:[(0,o.jsx)("option",{value:"",children:"-- Seleccione --"}),(0,o.jsx)("option",{value:"Morelos",children:"Morelos"}),(0,o.jsx)("option",{value:"Ciudad de M\xe9xico",children:"Ciudad de M\xe9xico"}),(0,o.jsx)("option",{value:"Estado de M\xe9xico",children:"Estado de M\xe9xico"}),(0,o.jsx)("option",{value:"Otro",children:"Otro"})]})]}),(0,o.jsxs)("div",{className:x().formGroup,children:[(0,o.jsx)("label",{children:"Observaciones:"}),(0,o.jsx)("textarea",{name:"observaciones",className:x().formControl,defaultValue:(null==V?void 0:V.observaciones)||"",rows:"3"})]}),(0,o.jsxs)("div",{className:x().formActions,children:[(0,o.jsxs)(d.P.button,{type:"button",className:x().btnCancel,onClick:()=>I(!1),whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:"fas fa-times"})," Cancelar"]}),(0,o.jsxs)(d.P.button,{type:"submit",className:x().btnSave,whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:"fas fa-save"})," Guardar"]})]})]})})]})})]}),(0,o.jsx)(m.N,{children:el.isOpen&&(0,o.jsx)(e=>{let a,{isOpen:s,onClose:t,onConfirm:n,title:i,message:r,confirmText:l,cancelText:c,type:m}=e;if(!s)return null;switch(m){case"delete":a="fas fa-trash-alt";break;case"warning":a="fas fa-exclamation-triangle";break;case"save":a="fas fa-save";break;default:a="fas fa-question-circle"}return(0,o.jsx)(d.P.div,{className:x().confirmationModalOverlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&t()},children:(0,o.jsxs)(d.P.div,{className:"".concat(x().confirmationModalContent," ").concat(x()[m]),initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},children:[(0,o.jsx)("div",{className:x().confirmationModalIcon,children:(0,o.jsx)("i",{className:a})}),(0,o.jsx)("h3",{children:i}),(0,o.jsx)("p",{children:r}),(0,o.jsxs)("div",{className:x().confirmationModalActions,children:[(0,o.jsxs)(d.P.button,{className:x().btnCancel,onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:"fas fa-times"})," ",c||"Cancelar"]}),(0,o.jsxs)(d.P.button,{className:"".concat(x().btnConfirm," ").concat(x()["btn".concat(m.charAt(0).toUpperCase()+m.slice(1))]),onClick:()=>{n(),t()},whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,o.jsx)("i",{className:a})," ",l||"Confirmar"]})]})]})})},{isOpen:el.isOpen,onClose:()=>{ec(e=>({...e,isOpen:!1}))},onConfirm:el.onConfirm,title:el.title,message:el.message,type:el.type,confirmText:el.confirmText,cancelText:el.cancelText})}),(0,o.jsx)("footer",{className:x().footer,children:e&&(0,o.jsxs)(d.P.div,{className:x().footerContent,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},children:[(0,o.jsxs)("p",{className:x().userInfo,children:[(0,o.jsx)("i",{className:"fas fa-user"})," ",e.displayName||"Nombre no disponible"]}),(0,o.jsxs)("p",{className:x().userEmail,children:[(0,o.jsx)("i",{className:"fas fa-envelope"})," ",e.email]})]})})]})};function f(){return(0,o.jsx)(c,{adminOnly:!0,children:(0,o.jsx)(g,{})})}},5648:(e,a)=>{"use strict";function s(e){let{ampFirst:a=!1,hybrid:s=!1,hasQuery:o=!1}=void 0===e?{}:e;return a||s&&o}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"isInAmpMode",{enumerable:!0,get:function(){return s}})},7328:(e,a,s)=>{e.exports=s(9836)},7871:e=>{e.exports={navbar:"catalogos_navbar__kKVqA",slideInLeft:"catalogos_slideInLeft__Lkiwv",scrolled:"catalogos_scrolled__aEkIl",navbarBrand:"catalogos_navbarBrand__UR92t",navLinks:"catalogos_navLinks__MMwmK",scrolledNavLink:"catalogos_scrolledNavLink__orCBB",menuToggle:"catalogos_menuToggle__0ybc_",bar:"catalogos_bar__5tTwZ",scrolledBar:"catalogos_scrolledBar__3XGnA",activeBar1:"catalogos_activeBar1__yJxW3",activeBar2:"catalogos_activeBar2__QIxY7",activeBar3:"catalogos_activeBar3__QNEHK",pageHeader:"catalogos_pageHeader__E9Kg3",filter:"catalogos_filter__bIbXH",headerContent:"catalogos_headerContent__yuKIN",presentationTitle:"catalogos_presentationTitle__Pt7eN",presentationSubtitle:"catalogos_presentationSubtitle__ie7f5",catalogoContainer:"catalogos_catalogoContainer__3bUeB",mainTabs:"catalogos_mainTabs__KVoMv",tabBtn:"catalogos_tabBtn__yKz25",active:"catalogos_active__kyaGC",tabContent:"catalogos_tabContent__4Dz0t",tabPane:"catalogos_tabPane__3XuTP",tabHeader:"catalogos_tabHeader__OMiz_",subTabs:"catalogos_subTabs__MpOQY",subTabBtn:"catalogos_subTabBtn__C_Ua5",subTabContent:"catalogos_subTabContent__E8boq",subTabPane:"catalogos_subTabPane__nykvZ",tableContainer:"catalogos_tableContainer__vIA7Y",dataTable:"catalogos_dataTable__YLIPs",actionsCell:"catalogos_actionsCell__K7bQa",statusPendiente:"catalogos_statusPendiente__37FiS",pulse:"catalogos_pulse__fDvWr",statusAsignado:"catalogos_statusAsignado__clKkX",statusEnproceso:"catalogos_statusEnproceso__tyMjl",statusCompletado:"catalogos_statusCompletado__ux1kQ",statusCancelado:"catalogos_statusCancelado__ClG6y",btnIcon:"catalogos_btnIcon___Ae08",btnEdit:"catalogos_btnEdit__34Boh",btnDelete:"catalogos_btnDelete__AMiLe",btnAdd:"catalogos_btnAdd__Trib7",searchBox:"catalogos_searchBox__ZVPmI",actions:"catalogos_actions__laiBC",loading:"catalogos_loading__Ka2iI",errorMessage:"catalogos_errorMessage__9FVhb",noData:"catalogos_noData__mu3m5",shimmer:"catalogos_shimmer__Y6u1I",rotate:"catalogos_rotate__E6BeF",retryButton:"catalogos_retryButton__1_Bmb",modalOverlay:"catalogos_modalOverlay__DKRXb",modalContent:"catalogos_modalContent__1tcYk",modalHeader:"catalogos_modalHeader__mOiaX",closeBtn:"catalogos_closeBtn__5YvH_",modalBody:"catalogos_modalBody__x0S5v",formGroup:"catalogos_formGroup__cwMna",formRow:"catalogos_formRow__x2qvw",half:"catalogos_half__ZLZhC",formControl:"catalogos_formControl__qjuvK",inputGroup:"catalogos_inputGroup__pVrkg",formActions:"catalogos_formActions__0hY4y",btnCancel:"catalogos_btnCancel__ZmoGH",btnSave:"catalogos_btnSave__AsgV_",asignacionContainer:"catalogos_asignacionContainer__GxRhd",asignacionForm:"catalogos_asignacionForm__moLpQ",btnAsignar:"catalogos_btnAsignar__iVwHd",asignacionesActuales:"catalogos_asignacionesActuales__476FN",formText:"catalogos_formText__vtOx_",paginationContainer:"catalogos_paginationContainer__CcPWs",pagination:"catalogos_pagination__yO_6T",paginationBtn:"catalogos_paginationBtn__ZF4BJ",disabled:"catalogos_disabled__P0gUP",paginationInfo:"catalogos_paginationInfo__n5uEI",itemsPerPage:"catalogos_itemsPerPage__SSFl8",footer:"catalogos_footer__divja",footerContent:"catalogos_footerContent__vB5Wv",userInfo:"catalogos_userInfo__epeDY",userEmail:"catalogos_userEmail__2ofyT",footerNav:"catalogos_footerNav__rSk_O",footerLink:"catalogos_footerLink__e6Nzx",notificationContainer:"catalogos_notificationContainer__PDOvJ",notification:"catalogos_notification__DD89u",slideInRight:"catalogos_slideInRight__vfjHt",exit:"catalogos_exit___ONmt",slideOutRight:"catalogos_slideOutRight__uHnOz",success:"catalogos_success__7uYPm",error:"catalogos_error__vq1ni",warning:"catalogos_warning__4ZEM5",info:"catalogos_info__YtZSQ",notificationIcon:"catalogos_notificationIcon__TtZ7p",notificationContent:"catalogos_notificationContent__A98DW",notificationTitle:"catalogos_notificationTitle__83MUc",notificationMessage:"catalogos_notificationMessage__P5jIB",notificationClose:"catalogos_notificationClose__9SHd0",notificationProgress:"catalogos_notificationProgress__C2Z5l",notificationProgressBar:"catalogos_notificationProgressBar__UvdX6",progressShrink:"catalogos_progressShrink__mn3_W",confirmationModalOverlay:"catalogos_confirmationModalOverlay__UjU59",confirmationModalContent:"catalogos_confirmationModalContent__vgGX3",confirmationModalIcon:"catalogos_confirmationModalIcon__PW11q",delete:"catalogos_delete__mlzOQ",save:"catalogos_save__rCLSY",confirmationModalActions:"catalogos_confirmationModalActions__RJ_aa",btnConfirm:"catalogos_btnConfirm__3yslS",btnWarning:"catalogos_btnWarning__xzPjw",btnInfo:"catalogos_btnInfo__Quk42",fadeIn:"catalogos_fadeIn__vzpeq",slideIn:"catalogos_slideIn__736MG"}},9099:(e,a,s)=>{e.exports=s(8253)},9836:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var s in a)Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}(a,{default:function(){return x},defaultHead:function(){return m}});let o=s(4252),t=s(8365),n=s(7876),i=t._(s(4232)),r=o._(s(1393)),l=s(9896),c=s(6834),d=s(5648);function m(e){void 0===e&&(e=!1);let a=[(0,n.jsx)("meta",{charSet:"utf-8"},"charset")];return e||a.push((0,n.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),a}function p(e,a){return"string"==typeof a||"number"==typeof a?e:a.type===i.default.Fragment?e.concat(i.default.Children.toArray(a.props.children).reduce((e,a)=>"string"==typeof a||"number"==typeof a?e:e.concat(a),[])):e.concat(a)}s(546);let u=["name","httpEquiv","charSet","itemProp"];function h(e,a){let{inAmpMode:s}=a;return e.reduce(p,[]).reverse().concat(m(s).reverse()).filter(function(){let e=new Set,a=new Set,s=new Set,o={};return t=>{let n=!0,i=!1;if(t.key&&"number"!=typeof t.key&&t.key.indexOf("$")>0){i=!0;let a=t.key.slice(t.key.indexOf("$")+1);e.has(a)?n=!1:e.add(a)}switch(t.type){case"title":case"base":a.has(t.type)?n=!1:a.add(t.type);break;case"meta":for(let e=0,a=u.length;e<a;e++){let a=u[e];if(t.props.hasOwnProperty(a))if("charSet"===a)s.has(a)?n=!1:s.add(a);else{let e=t.props[a],s=o[a]||new Set;("name"!==a||!i)&&s.has(e)?n=!1:(s.add(e),o[a]=s)}}}return n}}()).reverse().map((e,a)=>{let s=e.key||a;return i.default.cloneElement(e,{key:s})})}let x=function(e){let{children:a}=e,s=(0,i.useContext)(l.AmpStateContext),o=(0,i.useContext)(c.HeadManagerContext);return(0,n.jsx)(r.default,{reduceComponentsToState:h,headManager:o,inAmpMode:(0,d.isInAmpMode)(s),children:a})};("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},9896:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"AmpStateContext",{enumerable:!0,get:function(){return o}});let o=s(4252)._(s(4232)).default.createContext({})}},e=>{e.O(0,[650,636,593,792],()=>e(e.s=2172)),_N_E=e.O()}]);